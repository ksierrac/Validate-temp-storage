<?xml version="1.0" encoding="UTF-8"?>
<!-- generated: 2016-06-08 08:37:17.010233 -->
<!-- generated by: ksierrac -->
<!-- generator: python -->
<adag xmlns="http://pegasus.isi.edu/schema/DAX" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pegasus.isi.edu/schema/DAX http://pegasus.isi.edu/schema/dax-3.6.xsd" version="3.6" name="pegasus-example">
        <metadata key="name">Validate Example</metadata>
        <metadata key="createdby">Sierra</metadata>
        <file name="input1.data">
                <pfn url="$HOME/StampedeExample/one/1H6.fam" site="stampede"/>
        </file>
        <job id="ID0000001" name="phenoconvert">
                <argument>-T 60 -i <file name="input1.data"/> -o <file name="intermediate.data"/></argument>
                <uses name="input1.data" link="input"/>
                <uses name="intermediate.data" link="output" transfer="false"/>
        </job>
        <job id="ID0000002" name="fastlmm">
                <argument>-T 60 -i <file name="intermediate.data"/> -o <file name="output.data"/></argument>
                <uses name="intermediate.data" link="input"/>
                <uses name="output.data" link="output" transfer="true"/>
        </job>
        <child ref="ID0000002">
                <parent ref="ID0000001"/>
        </child>
</adag>




<?xml version="1.0" encoding="UTF-8"?>
<sitecatalog xmlns="http://pegasus.isi.edu/schema/sitecatalog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pegasus.isi.edu/schema/sitecatalog http://pegasus.isi.edu/schema/sc-4.0.xsd" version="4.0">

    <site  handle="local" arch="x86" os="LINUX">
        <!-- the base directory where workflow jobs will execute for local site -->
        <directory type="shared-scratch" path="/scratch/04109/ksierrac">
            <file-server operation="all" url="file:///scratch/04109/ksierrac"/>
        </directory>

        <!-- the directory where outputs will be placed  -->
        <directory type="local-storage" path="/home1/04109/ksierrac/pegasustest/output">
            <file-server operation="all" url="file:///home1/04109/ksierrac/pegasustest/output"/>
        </directory>
    </site>

    <site  handle="tacc-stampede" arch="x86_64" os="LINUX">
        <grid  type="gt5" contact="login5.stampede.tacc.utexas.edu:2119/jobmanager-fork" scheduler="Fork" jobtype="auxillary"/>
        <grid  type="gt5" contact="login5.stampede.tacc.utexas.edu:2119/jobmanager-slurm" scheduler="unknown" jobtype="compute"/>

        <directory type="shared-scratch" path="/scratch/04109/ksierrac/workflow-runs">
            <file-server operation="all" url="gsiftp://gridftp.stampede.tacc.xsede.org:2811/scratch/04109/ksierrac/workflow-runs"/>
        </directory>

        <profile namespace="globus" key="project">iPlant-Collabs</profile>
        <profile namespace="env" key="PEGASUS_HOME">/home1/04109/ksierrac/pegasus-4.6.1</profile>
    </site>

</sitecatalog>

<?xml version="1.0" encoding="UTF-8"?>
<sitecatalog xmlns="http://pegasus.isi.edu/schema/sitecatalog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pegasus.isi.edu/schema/sitecatalog http://pegasus.isi.edu/schema/sc-4.0.xsd" version="4.0">
    <site  handle="local" arch="x86" os="LINUX">
        <!-- the base directory where workflow jobs will execute for local site -->
        <directory type="shared-scratch" path="/home1/04109/ksierrac/pegasustest/work/scratch">
            <file-server operation="all" url="file:///home1/04109/ksierrac/pegasustest/work/scratch"/>
        </directory>
        <!-- the directory where outputs will be placed  -->
        <directory type="local-storage" path="/home1/04109/ksierrac/pegasustest/outputs">
            <file-server operation="all" url="file:///home1/04109/ksierrac/pegasustest/outputs"/>
        </directory>
    </site>

    <site  handle="tacc-stampede" arch="x86_64" os="LINUX">
        <grid  type="gt5" contact="login5.stampede.tacc.utexas.edu:2119/jobmanager-fork" scheduler="Fork" jobtype="auxillary"/>
        <grid  type="gt5" contact="login5.stampede.tacc.utexas.edu:2119/jobmanager-slurm" scheduler="unknown" jobtype="compute"/>
        <directory type="shared-scratch" path="/scratch/04109/ksierrac/workflow-runs">
            <file-server operation="all" url="gsiftp://gridftp.stampede.tacc.xsede.org:2811/scratch/04109/ksierrac/workflow-runs"/>
        </directory>
        <profile namespace="globus" key="project">iPlant-Collabs</profile>
        <profile namespace="env" key="PEGASUS_HOME">/home1/04109/ksierrac/software/pegasus/4.6.1</profile>
    </site>
</sitecatalog>


tr phenoconvert { 
  site tacc-stampede {
    pfn "/home1/04109/ksierrac/pegasustest/StampedeExample/fam_pheno_convert.py"
    arch "x86_64"
    os "linux"
    type "INSTALLED"
  }
}

tr fastlmm { 
  site tacc-stampede {
    pfn "$HOME/Validate-Master-0.9/CurrentReleaseStable/GWAS_09/fastlmmc"
    arch "x86_64"
    os "linux"
    type "INSTALLED"
  }
}

pegasus.catalog.site.file = sites.xml

pegasus.catalog.transformation.file = transformation.catalog

pegasus.catalog.replica.file = /dev/null

pegasus.dir.useTimestamp = true
pegasus.dir.storage.deep = false
pegasus.condor.logs.symlink = false

pegasus.data.configuration = sharedfs

pegasus-plan \
--conf pegasusrc \
--sites tacc-stampede \
--output-site local \
--dir work \
--dax workflow.dax

